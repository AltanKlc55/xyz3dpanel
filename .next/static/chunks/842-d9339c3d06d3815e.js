"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[842],{20842:function(e,t,n){var i=n(47568),a=n(10092),l=n(85893),s=n(87357),o=n(66242),r=n(86886),d=n(83321),c=n(90089),u=n(50135),h=n(78445),f=n(15861),g=n(44267),m=n(93842),p=n(67294),v=n(37990),x=n(25675),j=n.n(x);t.Z=function(e){var t,n,x=e.dataAll,k=e.randData,y=(0,p.useState)(!1),Z=y[0],b=y[1],z=(0,p.useState)(""),B=z[0],_=z[1],S=(0,p.useState)(""),w=S[0],P=S[1],C=(0,p.useState)(""),I=C[0],N=C[1],U=(0,p.useState)(""),L=U[0],R=U[1],A=(0,p.useState)(""),O=A[0],E=A[1],T=(0,p.useState)(""),D=T[0],G=T[1],W=(0,p.useState)(""),Y=W[0],H=W[1],F=(0,p.useState)(""),J=F[0],K=F[1],M=(0,p.useState)(""),q=M[0],Q=M[1],V=(0,p.useState)(""),X=V[0],$=V[1],ee={};(0,p.useEffect)((function(){var e,t,n,i,a,l,s;_("/uploads/"+(null===(e=x[0])||void 0===e?void 0:e.neden_biz_gorsel)),P("/uploads/"+(null===(t=x[0])||void 0===t?void 0:t.banner)),G("/uploads/"+(null===(n=x[0])||void 0===n?void 0:n.hakkimizda_gorsel)),Q(null===(i=x[0])||void 0===i?void 0:i.neden_biz_icerik),$(null===(a=x[0])||void 0===a?void 0:a.hakkimizda_icerik),H(null===(l=x[0])||void 0===l?void 0:l.baslik),K(null===(s=x[0])||void 0===s?void 0:s.neden_biz_baslik)}),[x]);(0,p.useEffect)((function(){b(!0)}),[]);var te=function(){var e=(0,i.Z)((function(){var e,t,n,i,l,s,o,r,d;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(e=new FormData,""!==I)try{e.append("nedenBiz",I)}catch(c){console.log(c)}else t=I.split("/"),ee.nedenBiz=t[2];if(""!==O)try{e.append("hakkimizdaImg",O)}catch(u){console.log(u)}else n=D.split("/"),ee.hakkimizdaImg=n[2];if(""!==L)try{e.append("bannerImg",L)}catch(h){console.log(h)}else i=w.split("/"),ee.bannerImg=i[2];return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,a.sent().json()];case 2:return l=a.sent(),s=l.files,s.filter((function(e){return"bannerImg"===e.fieldName})),o=s.filter((function(e){return"hakkimizdaImg"===e.fieldName})),s.filter((function(e){return"nedenBiz"===e.fieldName})),console.log(o),r={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({nedenBizContent:q,hakkimizdaContent:X,nedenBizBasligi:J,sayfaBasligi:Y,banner:0===L.length?w.split("/")[2]:L.name,hakkimizda_gorsel:0===O.length?D.split("/")[2]:O.name,neden_biz_gorsel:0===I.length?B.split("/")[2]:I.name})},[4,fetch("".concat("http://localhost:3000","/api/hakkimizda"),r)];case 3:return[4,a.sent().json()];case 4:return d=a.sent(),console.log(d),k(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(h.Z,{title:"Sayfa \u0130\xe7erikleri",titleTypographyProps:{variant:"h6"}}),(0,l.jsx)(g.Z,{children:(0,l.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,l.jsxs)(r.ZP,{container:!0,spacing:5,children:[(0,l.jsx)(r.ZP,{mt:10,item:!0,xs:12,children:(0,l.jsx)(u.Z,{fullWidth:!0,label:"Sayfa Ba\u015fl\u0131\u011f\u0131",placeholder:"Sayfa Ba\u015fl\u0131\u011f\u0131",value:Y,onChange:function(e){H(e.target.value)}})}),(0,l.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,l.jsx)(f.Z,{variant:"h6",style:{paddingBottom:10},children:" Hakk\u0131m\u0131zda \u0130\xe7eri\u011fi "}),(0,l.jsx)(v.Z,{editorStatus:Z,contentsforupdate:null===(t=x[0])||void 0===t?void 0:t.hakkimizda_icerik,onChange:function(e){$(e)}})]}),(0,l.jsx)(r.ZP,{mt:10,item:!0,xs:12,children:(0,l.jsx)(u.Z,{fullWidth:!0,label:"Neden Biz Ba\u015fl\u0131\u011f\u0131",placeholder:"Neden Biz Ba\u015fl\u0131\u011f\u0131",value:J,onChange:function(e){K(e.target.value)}})}),(0,l.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,l.jsx)(f.Z,{variant:"h6",style:{paddingBottom:10},children:" Neden Biz ? \u0130\xe7eri\u011fi "}),(0,l.jsx)(v.Z,{editorStatus:Z,contentsforupdate:null===(n=x[0])||void 0===n?void 0:n.neden_biz_icerik,onChange:function(e){Q(e)}})]}),(0,l.jsx)(r.ZP,{item:!0,xs:12,children:(0,l.jsx)(f.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,l.jsxs)(r.ZP,{style:{textAlign:"center"},item:!0,xs:4,children:[(0,l.jsxs)(d.Z,{component:"label",variant:"contained",startIcon:(0,l.jsx)(m.Z,{}),style:{marginBottom:20},children:["Hakk\u0131m\u0131zda G\xf6rseli Y\xfckle",(0,l.jsx)(c.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;E(null===(t=e.target.files)||void 0===t?void 0:t[0]),G(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==D?(0,l.jsx)(j(),{src:D,width:500,height:500}):""]}),(0,l.jsxs)(r.ZP,{style:{textAlign:"center"},item:!0,xs:4,children:[(0,l.jsxs)(d.Z,{component:"label",variant:"contained",startIcon:(0,l.jsx)(m.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,l.jsx)(c.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;R(null===(t=e.target.files)||void 0===t?void 0:t[0]),P(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==w?(0,l.jsx)(j(),{src:w,alt:"Picture of the author",width:500,height:500}):""]}),(0,l.jsxs)(r.ZP,{style:{textAlign:"center"},item:!0,xs:4,children:[(0,l.jsxs)(d.Z,{component:"label",variant:"contained",startIcon:(0,l.jsx)(m.Z,{}),style:{marginBottom:20},children:["Neden Biz ? G\xf6rseli Y\xfckle",(0,l.jsx)(c.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;N(null===(t=e.target.files)||void 0===t?void 0:t[0]),_(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==B?(0,l.jsx)(j(),{src:B,alt:"Picture of the author",width:500,height:500}):""]}),(0,l.jsx)(r.ZP,{item:!0,xs:12,children:(0,l.jsx)(s.Z,{sx:{gap:5,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},children:(0,l.jsx)(d.Z,{type:"submit",onClick:te,variant:"contained",size:"large",children:"Kaydet"})})})]})})})]})}}}]);