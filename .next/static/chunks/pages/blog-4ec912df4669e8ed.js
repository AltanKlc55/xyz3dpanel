(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{57286:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n(36785)}])},36785:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(47568),l=n(26042),a=n(69396),s=n(10092),r=n(85893),o=n(86886),c=n(50122),d=n(66242),u=n(15861),h=n(87357),f=n(78445),g=n(83835),p=n(83321),x=n(67294),m=n(90089),j=n(50135),Z=n(44267),b=n(93842),y=n(37990),v=n(25675),S=n.n(v),w=function(e){var t=e.reDatas,n=e.closeModal,l=(0,x.useState)(!1),a=l[0],c=l[1],h=(0,x.useState)(""),f=h[0],g=h[1],v=(0,x.useState)(""),w=v[0],B=(v[1],(0,x.useState)(!1)),P=(B[0],B[1]),k=(0,x.useState)(),C=k[0],_=k[1],I=(0,x.useState)(),E=I[0],T=I[1],N=(0,x.useState)(""),D=N[0],O=N[1],U=(0,x.useState)(),z=U[0],A=U[1],L=(0,x.useState)(),M=L[0],R=L[1];(0,x.useEffect)((function(){c(!0)}),[]);var F=function(){var e=(0,i.Z)((function(){var e,i,l,a,r,o;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:P(!0),e=new FormData;try{e.append("bannerImg",C)}catch(c){console.log(c)}try{if(!E)return[2];e.append("sektorImg",E)}catch(d){console.log(d)}return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,s.sent().json()];case 2:return i=s.sent(),l=i.files,a=l.filter((function(e){return"bannerImg"===e.fieldName})),r=l.filter((function(e){return"sektorImg"===e.fieldName})),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blogIcerigi:M,blogBasligi:z,banner:0===a.length?f.split("/")[2]:a[0].name,img:0===r.length?selectSektorlerFile.split("/")[2]:r[0].name})},[4,fetch("".concat("http://localhost:3000","/api/blog"),o)];case 3:return[4,s.sent().json()];case 4:return s.sent(),t(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){console.log(w)}),[w]),(0,r.jsx)(d.Z,{children:(0,r.jsx)(Z.Z,{children:(0,r.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,r.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,r.jsx)(j.Z,{fullWidth:!0,label:"Blog Ba\u015fl\u0131\u011f\u0131",placeholder:"Blog Ba\u015fl\u0131\u011f\u0131",onChange:function(e){A(e.target.value)}})}),(0,r.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,r.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Blog \u0130\xe7eri\u011fi "}),(0,r.jsx)(y.Z,{editorStatus:a,onChange:function(e){R(e)}})]}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,r.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,r.jsxs)(p.Z,{component:"label",variant:"contained",startIcon:(0,r.jsx)(b.Z,{}),style:{marginBottom:20},children:["Blog G\xf6rseli Y\xfckle",(0,r.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;T(null===(t=e.target.files)||void 0===t?void 0:t[0]),O(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==D?(0,r.jsx)(S(),{src:D,width:500,height:500}):""]}),(0,r.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,r.jsxs)(p.Z,{component:"label",variant:"contained",startIcon:(0,r.jsx)(b.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,r.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;_(null===(t=e.target.files)||void 0===t?void 0:t[0]),g(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==f?(0,r.jsx)(S(),{src:f,alt:"Picture of the author",width:500,height:500}):""]}),(0,r.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,r.jsx)(p.Z,{type:"submit",onClick:F,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},B=(n(76293),n(15259)),P=function(e){var t=e.dataUpdates,n=e.reDatas,l=e.closeModal,a=(0,x.useState)(!1),c=a[0],h=a[1],f=(0,x.useState)("/uploads/"+t.banner),g=f[0],v=f[1],w=(0,x.useState)(""),B=(w[0],w[1],(0,x.useState)(!1)),P=(B[0],B[1]),k=(0,x.useState)(),C=(k[0],k[1],(0,x.useState)("/uploads/"+t.banner)),_=C[0],I=C[1],E=(0,x.useState)("/uploads/"+t.img),T=E[0],N=E[1],D=(0,x.useState)("/uploads/"+t.img),O=D[0],U=D[1],z=(0,x.useState)(t.name),A=z[0],L=z[1],M=(0,x.useState)(),R=(M[0],M[1],(0,x.useState)()),F=(R[0],R[1],(0,x.useState)(t.content)),G=F[0],Y=F[1],J={};(0,x.useEffect)((function(){h(!0)}),[]);var K=function(){var e=(0,i.Z)((function(){var e,i,a,r,o,c,d,u,h;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:if(P(!0),e=new FormData,_!==t.banner||""===t.banner)try{e.append("bannerImg",_)}catch(f){console.log(f)}else i=g.split("/"),J.bannerImg=i[2];if(T!==t.img||""===t.img)try{if(!T)return[2];e.append("hizmetImg",T)}catch(p){console.log(p)}else a=O.split("/"),J.hizmetImg=a[2];return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,s.sent().json()];case 2:return r=s.sent(),o=r.files,c=o.filter((function(e){return"bannerImg"===e.fieldName})),d=o.filter((function(e){return"hizmetImg"===e.fieldName})),console.log("New BVADSFVBadfbaefdbfvbf",g.split("/")[2]),u={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,blogIcerigi:G,blogBasligi:A,banner:0===c.length?g.split("/")[2]:c[0].name,img:0===d.length?O.split("/")[2]:d[0].name})},[4,fetch("".concat("http://localhost:3000","/api/blog"),u)];case 3:return[4,s.sent().json()];case 4:return h=s.sent(),console.log(h),n(),l(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,r.jsx)(d.Z,{children:(0,r.jsx)(Z.Z,{children:(0,r.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,r.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,r.jsx)(j.Z,{fullWidth:!0,label:"Blog Ba\u015fl\u0131\u011f\u0131",placeholder:"Blog Ba\u015fl\u0131\u011f\u0131",value:A,onChange:function(e){L(e.target.value)}})}),(0,r.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,r.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Blog \u0130\xe7eri\u011fi "}),(0,r.jsx)(y.Z,{editorStatus:c,contentsforupdate:t.content,onChange:function(e){Y(e)}})]}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,r.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,r.jsxs)(p.Z,{component:"label",variant:"contained",startIcon:(0,r.jsx)(b.Z,{}),style:{marginBottom:20},children:["Blog G\xf6rseli Y\xfckle",(0,r.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;N(null===(t=e.target.files)||void 0===t?void 0:t[0]),U(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==O?(0,r.jsx)(S(),{src:O,width:500,height:500}):""]}),(0,r.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,r.jsxs)(p.Z,{component:"label",variant:"contained",startIcon:(0,r.jsx)(b.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,r.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;I(null===(t=e.target.files)||void 0===t?void 0:t[0]),v(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==g?(0,r.jsx)(S(),{src:g,alt:"Picture of the author",width:500,height:500}):""]}),(0,r.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,r.jsx)(p.Z,{type:"submit",onClick:K,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},k=function(){var e=(0,x.useState)(!1),t=e[0],n=e[1],m=(0,x.useState)(!1),j=m[0],Z=m[1],b=(0,x.useState)([]),y=b[0],v=b[1],S=(0,x.useState)([]),k=S[0],C=S[1],_=(0,x.useState)(),I=_[0],E=_[1],T=function(){n(!1)},N=function(){Z(!1)},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"%90",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",height:700,pt:2,px:4,pb:3},O=function(){E(Math.floor(-199*Math.random())+100)},U=function(){var e=(0,i.Z)((function(){var e,t;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},[4,fetch("".concat("http://localhost:3000","/api/blog"),e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),v(t.hizmetler),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){U()}),[I]);var z=function(){var e=(0,i.Z)((function(e){var t,n;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return console.log(e),t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,action:"delete"})},[4,fetch("".concat("http://localhost:3000","/api/blog"),t)];case 1:return[4,i.sent().json()];case 2:return n=i.sent(),console.log(n),O(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,r.jsxs)(o.ZP,{item:!0,xs:10,children:[(0,r.jsx)(u.Z,{variant:"h5",children:(0,r.jsx)(c.Z,{children:"Bloglar"})}),(0,r.jsx)(u.Z,{variant:"body2",children:"Bloglar\u0131 ekleyip \xe7\u0131kart\u0131p d\xfczenleyin.."})]}),(0,r.jsxs)(o.ZP,{item:!0,xs:2,children:[(0,r.jsx)(p.Z,{onClick:function(){n(!0)},children:"Blog Ekle"}),(0,r.jsx)(g.Z,{open:j,onClose:N,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,r.jsxs)(h.Z,{sx:(0,a.Z)((0,l.Z)({},D),{width:800}),children:[(0,r.jsx)("h2",{id:"child-modal-title",children:"Blog D\xfczenle"}),(0,r.jsx)(P,{dataUpdates:k,reDatas:O,closeModal:N}),(0,r.jsx)(p.Z,{onClick:N,children:"\u0130ptal"})]})}),(0,r.jsx)(g.Z,{open:t,onClose:T,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,r.jsxs)(h.Z,{sx:(0,a.Z)((0,l.Z)({},D),{width:800}),children:[(0,r.jsx)("h2",{id:"child-modal-title",children:"Yeni Blog Ekle"}),(0,r.jsx)(w,{reDatas:O,closeModal:T}),(0,r.jsx)(p.Z,{onClick:T,children:"\u0130ptal"})]})})]}),(0,r.jsx)(o.ZP,{item:!0,xs:12,children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(f.Z,{title:"Bloglar Tablosu",titleTypographyProps:{variant:"h6"}}),(0,r.jsx)(B.Z,{data:y,handleClickFunc:z,openDuzenleModal:function(e,t){Z(!0),C(t),console.log(t)}})]})})]})}}},function(e){e.O(0,[657,850,343,444,774,888,179],(function(){return t=57286,e(e.s=t);var t}));var t=e.O();_N_E=t}]);