(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{60645:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hizmetler",function(){return n(34901)}])},34901:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(47568),a=n(26042),l=n(69396),r=n(10092),s=n(85893),o=n(86886),c=n(50122),d=n(66242),u=n(15861),h=n(87357),f=n(78445),m=n(49443),p=n(83835),g=n(83321),x=n(67294),j=n(86324),b=n(90089),v=n(50135),Z=n(44267),y=n(93842),z=n(37990),w=n(25675),S=n.n(w),_=function(e){var t=e.dataUpdates,n=e.closeModal,a=e.reDatas,l=(0,x.useState)(!1),c=l[0],h=l[1],f=(0,x.useState)(""),m=(f[0],f[1],(0,x.useState)("/uploads/"+t.banner)),p=m[0],j=m[1],w=(0,x.useState)(""),_=(w[0],w[1],(0,x.useState)(!1)),k=(_[0],_[1]),C=(0,x.useState)(),P=(C[0],C[1],(0,x.useState)("/uploads/"+t.banner)),E=P[0],H=P[1],T=(0,x.useState)("/uploads/"+t.img),I=T[0],N=T[1],D=(0,x.useState)("/uploads/"+t.img),M=D[0],B=D[1],O=(0,x.useState)(t.name),U=O[0],A=O[1],L=(0,x.useState)(),R=(L[0],L[1],(0,x.useState)()),Y=(R[0],R[1],(0,x.useState)(t.content)),F=Y[0],G=Y[1],J={};(0,x.useEffect)((function(){h(!0)}),[]);var K=function(){var e=(0,i.Z)((function(){var e,i,l,s,o,c,d,u,h;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(k(!0),e=new FormData,E!==t.banner||""===t.banner)try{e.append("bannerImg",E)}catch(f){console.log(f)}else i=p.split("/"),J.bannerImg=i[2];if(I!==t.img||""===t.img)try{if(!I)return[2];e.append("hizmetImg",I)}catch(m){console.log(m)}else l=M.split("/"),J.hizmetImg=l[2];return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,r.sent().json()];case 2:return s=r.sent(),o=s.files,c=o.filter((function(e){return"bannerImg"===e.fieldName})),d=o.filter((function(e){return"hizmetImg"===e.fieldName})),u={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,hizmetIcerigi:F,hizmetBasligi:U,banner:0===c.length?p.split("/")[2]:c[0].name,img:0===d.length?M.split("/")[2]:d[0].name})},[4,fetch("".concat("http://localhost:3000","/api/hizmetler"),u)];case 3:return[4,r.sent().json()];case 4:return h=r.sent(),console.log(h),a(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsx)(d.Z,{children:(0,s.jsx)(Z.Z,{children:(0,s.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,s.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(v.Z,{fullWidth:!0,label:"Hizmet Ba\u015fl\u0131\u011f\u0131",placeholder:"Hizmet Ba\u015fl\u0131\u011f\u0131",value:U,onChange:function(e){A(e.target.value)}})}),(0,s.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,s.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Hizmet \u0130\xe7eri\u011fi "}),(0,s.jsx)(z.Z,{editorStatus:c,contentsforupdate:t.content,onChange:function(e){G(e)}})]}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,s.jsxs)(g.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(y.Z,{}),style:{marginBottom:20},children:["Hizmet G\xf6rseli Y\xfckle",(0,s.jsx)(b.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;N(null===(t=e.target.files)||void 0===t?void 0:t[0]),B(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==M?(0,s.jsx)(S(),{src:M,width:500,height:500}):""]}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,s.jsxs)(g.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(y.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,s.jsx)(b.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;H(null===(t=e.target.files)||void 0===t?void 0:t[0]),j(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==p?(0,s.jsx)(S(),{src:p,alt:"Picture of the author",width:500,height:500}):""]}),(0,s.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,s.jsx)(g.Z,{type:"submit",onClick:K,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},k=function(){var e=(0,x.useState)(!1),t=e[0],n=e[1],b=(0,x.useState)(!1),v=b[0],Z=b[1],y=(0,x.useState)([]),z=y[0],w=y[1],S=(0,x.useState)([]),k=S[0],C=S[1],P=(0,x.useState)(),E=P[0],H=P[1],T=function(){n(!1)},I=function(){Z(!1)},N={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"%90",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",height:700,pt:2,px:4,pb:3},D=function(){H(Math.floor(-199*Math.random())+100)},M=function(){var e=(0,i.Z)((function(){var e,t;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},[4,fetch("".concat("http://localhost:3000","/api/hizmetler"),e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),w(t.hizmetler),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,x.useEffect)((function(){M()}),[E]);var B=function(){var e=(0,i.Z)((function(e){var t,n;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return console.log(e),t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,action:"delete"})},[4,fetch("".concat("http://localhost:3000","/api/hizmetler"),t)];case 1:return[4,i.sent().json()];case 2:return n=i.sent(),console.log(n),D(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,s.jsxs)(o.ZP,{item:!0,xs:10,children:[(0,s.jsx)(u.Z,{variant:"h5",children:(0,s.jsx)(c.Z,{children:"Hizmetlerimiz"})}),(0,s.jsx)(u.Z,{variant:"body2",children:"Hizmetleri D\xfczenleyin"})]}),(0,s.jsxs)(o.ZP,{item:!0,xs:2,children:[(0,s.jsx)(g.Z,{onClick:function(){n(!0)},children:"Hizmet Ekle"}),(0,s.jsx)(p.Z,{open:t,onClose:T,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,s.jsxs)(h.Z,{sx:(0,l.Z)((0,a.Z)({},N),{width:800}),children:[(0,s.jsx)("h2",{id:"child-modal-title",children:"Yeni Hizmet Ekle"}),(0,s.jsx)(j.Z,{reDatas:D,closeModal:T}),(0,s.jsx)(g.Z,{onClick:T,children:"\u0130ptal"})]})}),(0,s.jsx)(p.Z,{open:v,onClose:I,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,s.jsxs)(h.Z,{sx:(0,l.Z)((0,a.Z)({},N),{width:800}),children:[(0,s.jsx)("h2",{id:"child-modal-title",children:"Yeni Hizmet Ekle"}),(0,s.jsx)(_,{dataUpdates:k,reDatas:D,closeModal:I}),(0,s.jsx)(g.Z,{onClick:I,children:"\u0130ptal"})]})})]}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(f.Z,{title:"Hizmeteler Tablosu",titleTypographyProps:{variant:"h6"}}),(0,s.jsx)(m.Z,{data:z,handleClickFunc:B,openDuzenleModal:function(e,t){Z(!0),C(t),console.log(t)}})]})})]})}},37990:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(85893),a=n(67294),l=n(90918);function r(e){var t=e.onChange,n=e.contentsforupdate,r=(0,a.useRef)(null),s=(0,a.useState)(n),o=s[0],c=s[1];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.M,{apiKey:"six2yo4bzxd8f2i0vym67wgolcxzgkn91hg7gcs24josbvs1",onInit:function(e,t){return r.current=t},onEditorChange:function(e,n){c(e),"function"===typeof t&&t(e)},content:o,initialValue:void 0!==n?n:"",init:{height:500,menubar:"file edit view insert format tools table",extended_valid_elements:"i[class]",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount","hr"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent image| removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",image_uploadtab:!0,images_upload_url:"http://localhost:3000/uploads/"}})})}}},function(e){e.O(0,[657,850,343,571,774,888,179],(function(){return t=60645,e(e.s=t);var t}));var t=e.O();_N_E=t}]);