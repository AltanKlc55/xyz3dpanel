(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[195],{57286:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog",function(){return n(55629)}])},55629:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var i=n(47568),r=n(26042),a=n(69396),l=n(10092),o=n(85893),s=n(86886),c=n(50122),d=n(66242),u=n(15861),h=n(87357),p=n(78445),f=n(83835),x=n(83321),g=n(67294),j=n(90089),m=n(50135),Z=n(44267),b=n(93842),y=n(37990),v=n(25675),w=n.n(v),S=function(e){var t=e.reDatas,n=e.closeModal,r=(0,g.useState)(!1),a=r[0],c=r[1],h=(0,g.useState)(""),p=h[0],f=h[1],v=(0,g.useState)(""),S=v[0],k=(v[1],(0,g.useState)(!1)),_=(k[0],k[1]),P=(0,g.useState)(),B=P[0],C=P[1],E=(0,g.useState)(),T=E[0],N=E[1],O=(0,g.useState)(""),D=O[0],I=O[1],M=(0,g.useState)(),z=M[0],L=M[1],U=(0,g.useState)(),A=U[0],R=U[1];(0,g.useEffect)((function(){c(!0)}),[]);var Y=function(){var e=(0,i.Z)((function(){var e,i,r,a,o,s;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:_(!0),e=new FormData;try{e.append("bannerImg",B)}catch(c){console.log(c)}try{if(!T)return[2];e.append("sektorImg",T)}catch(d){console.log(d)}return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,l.sent().json()];case 2:return i=l.sent(),r=i.files,a=r.filter((function(e){return"bannerImg"===e.fieldName})),o=r.filter((function(e){return"sektorImg"===e.fieldName})),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({blogIcerigi:A,blogBasligi:z,banner:0===a.length?p.split("/")[2]:a[0].name,img:0===o.length?selectSektorlerFile.split("/")[2]:o[0].name})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/blog"),s)];case 3:return[4,l.sent().json()];case 4:return l.sent(),t(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,g.useEffect)((function(){console.log(S)}),[S]),(0,o.jsx)(d.Z,{children:(0,o.jsx)(Z.Z,{children:(0,o.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,o.jsxs)(s.ZP,{container:!0,spacing:5,children:[(0,o.jsx)(s.ZP,{mt:3,item:!0,xs:12,children:(0,o.jsx)(m.Z,{fullWidth:!0,label:"Blog Ba\u015fl\u0131\u011f\u0131",placeholder:"Blog Ba\u015fl\u0131\u011f\u0131",onChange:function(e){L(e.target.value)}})}),(0,o.jsxs)(s.ZP,{item:!0,xs:12,children:[(0,o.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Blog \u0130\xe7eri\u011fi "}),(0,o.jsx)(y.Z,{editorStatus:a,onChange:function(e){R(e)}})]}),(0,o.jsx)(s.ZP,{item:!0,xs:12,children:(0,o.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,o.jsxs)(s.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,o.jsxs)(x.Z,{component:"label",variant:"contained",startIcon:(0,o.jsx)(b.Z,{}),style:{marginBottom:20},children:["Blog G\xf6rseli Y\xfckle",(0,o.jsx)(j.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;N(null===(t=e.target.files)||void 0===t?void 0:t[0]),I(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==D?(0,o.jsx)(w(),{src:D,width:500,height:500}):""]}),(0,o.jsxs)(s.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,o.jsxs)(x.Z,{component:"label",variant:"contained",startIcon:(0,o.jsx)(b.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,o.jsx)(j.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;C(null===(t=e.target.files)||void 0===t?void 0:t[0]),f(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==p?(0,o.jsx)(w(),{src:p,alt:"Picture of the author",width:500,height:500}):""]}),(0,o.jsx)(s.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,o.jsx)(x.Z,{type:"submit",onClick:Y,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},k=n(76293),_=n(15259),P=function(){var e=(0,g.useState)(!1),t=e[0],n=e[1],j=(0,g.useState)(!1),m=j[0],Z=j[1],b=(0,g.useState)([]),y=b[0],v=b[1],w=(0,g.useState)([]),P=w[0],B=w[1],C=(0,g.useState)(),E=C[0],T=C[1],N=function(){n(!1)},O=function(){Z(!1)},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"%90",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",height:700,pt:2,px:4,pb:3},I=function(){T(Math.floor(-199*Math.random())+100)},M=function(){var e=(0,i.Z)((function(){var e,t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/blog"),e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),v(t.hizmetler),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,g.useEffect)((function(){M()}),[E]);var z=function(){var e=(0,i.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return console.log(e),t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,action:"delete"})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/blog"),t)];case 1:return[4,i.sent().json()];case 2:return n=i.sent(),console.log(n),I(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,o.jsxs)(s.ZP,{item:!0,xs:10,children:[(0,o.jsx)(u.Z,{variant:"h5",children:(0,o.jsx)(c.Z,{children:"Bloglar"})}),(0,o.jsx)(u.Z,{variant:"body2",children:"Bloglar\u0131 ekleyip \xe7\u0131kart\u0131p d\xfczenleyin.."})]}),(0,o.jsxs)(s.ZP,{item:!0,xs:2,children:[(0,o.jsx)(x.Z,{onClick:function(){n(!0)},children:"Blog Ekle"}),(0,o.jsx)(f.Z,{open:m,onClose:O,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(h.Z,{sx:(0,a.Z)((0,r.Z)({},D),{width:800}),children:[(0,o.jsx)("h2",{id:"child-modal-title",children:"Yeni Hizmet Ekle"}),(0,o.jsx)(k.Z,{dataUpdates:P,reDatas:I,closeModal:O}),(0,o.jsx)(x.Z,{onClick:O,children:"\u0130ptal"})]})}),(0,o.jsx)(f.Z,{open:t,onClose:N,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,o.jsxs)(h.Z,{sx:(0,a.Z)((0,r.Z)({},D),{width:800}),children:[(0,o.jsx)("h2",{id:"child-modal-title",children:"Yeni Blog Ekle"}),(0,o.jsx)(S,{reDatas:I,closeModal:N}),(0,o.jsx)(x.Z,{onClick:N,children:"\u0130ptal"})]})})]}),(0,o.jsx)(s.ZP,{item:!0,xs:12,children:(0,o.jsxs)(d.Z,{children:[(0,o.jsx)(p.Z,{title:"Bloglar Tablosu",titleTypographyProps:{variant:"h6"}}),(0,o.jsx)(_.Z,{data:y,handleClickFunc:z,openDuzenleModal:function(e,t){Z(!0),B(t),console.log(t)}})]})})]})}}},function(e){e.O(0,[657,850,343,444,774,888,179],(function(){return t=57286,e(e.s=t);var t}));var t=e.O();_N_E=t}]);