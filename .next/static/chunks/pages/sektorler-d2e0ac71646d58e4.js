(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{39858:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sektorler",function(){return n(75728)}])},75728:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(47568),i=n(26042),a=n(69396),s=n(10092),l=n(85893),o=n(86886),c=n(50122),d=n(66242),u=n(15861),h=(n(20842),n(87357)),f=n(78445),p=(n(49443),n(83835)),x=n(83321),j=n(67294),m=(n(86324),n(90089)),g=n(50135),Z=n(44267),y=n(93842),b=n(37990),v=n(25675),k=n.n(v),S=function(e){var t=e.reDatas,n=e.closeModal,i=(0,j.useState)(!1),a=i[0],c=i[1],h=(0,j.useState)(""),f=h[0],p=h[1],v=(0,j.useState)(""),S=v[0],w=(v[1],(0,j.useState)(!1)),_=(w[0],w[1]),P=(0,j.useState)(),C=P[0],E=P[1],T=(0,j.useState)(),N=T[0],O=T[1],B=(0,j.useState)(""),D=B[0],I=B[1],M=(0,j.useState)(),L=M[0],U=M[1],z=(0,j.useState)(),A=z[0],R=z[1];(0,j.useEffect)((function(){c(!0)}),[]);var Y=function(){var e=(0,r.Z)((function(){var e,r,i,a,l,o;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:_(!0),e=new FormData;try{e.append("bannerImg",C)}catch(c){console.log(c)}try{if(!N)return[2];e.append("sektorImg",N)}catch(d){console.log(d)}return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,s.sent().json()];case 2:return r=s.sent(),i=r.files,a=i.filter((function(e){return"bannerImg"===e.fieldName})),l=i.filter((function(e){return"sektorImg"===e.fieldName})),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sektorIcerigi:A,sektorBasligi:L,banner:0===a.length?f.split("/")[2]:a[0].name,img:0===l.length?D.split("/")[2]:l[0].name})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/sektorler"),o)];case 3:return[4,s.sent().json()];case 4:return s.sent(),t(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,j.useEffect)((function(){console.log(S)}),[S]),(0,l.jsx)(d.Z,{children:(0,l.jsx)(Z.Z,{children:(0,l.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,l.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,l.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,l.jsx)(g.Z,{fullWidth:!0,label:"Sekt\xf6r Ba\u015fl\u0131\u011f\u0131",placeholder:"Sekt\xf6r Ba\u015fl\u0131\u011f\u0131",onChange:function(e){U(e.target.value)}})}),(0,l.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,l.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Sekt\xf6r \u0130\xe7eri\u011fi "}),(0,l.jsx)(b.Z,{editorStatus:a,onChange:function(e){R(e)}})]}),(0,l.jsx)(o.ZP,{item:!0,xs:12,children:(0,l.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,l.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,l.jsxs)(x.Z,{component:"label",variant:"contained",startIcon:(0,l.jsx)(y.Z,{}),style:{marginBottom:20},children:["Sekt\xf6r G\xf6rseli Y\xfckle",(0,l.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;O(null===(t=e.target.files)||void 0===t?void 0:t[0]),I(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==D?(0,l.jsx)(k(),{src:D,width:500,height:500}):""]}),(0,l.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,l.jsxs)(x.Z,{component:"label",variant:"contained",startIcon:(0,l.jsx)(y.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,l.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;E(null===(t=e.target.files)||void 0===t?void 0:t[0]),p(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==f?(0,l.jsx)(k(),{src:f,alt:"Picture of the author",width:500,height:500}):""]}),(0,l.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,l.jsx)(x.Z,{type:"submit",onClick:Y,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},w=n(15259),_=n(76293),P=function(){var e=(0,j.useState)(!1),t=e[0],n=e[1],m=(0,j.useState)(!1),g=m[0],Z=m[1],y=(0,j.useState)([]),b=y[0],v=y[1],k=(0,j.useState)([]),P=k[0],C=k[1],E=(0,j.useState)(),T=E[0],N=E[1],O=function(){n(!1)},B=function(){Z(!1)},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"%90",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",height:700,pt:2,px:4,pb:3},I=function(){N(Math.floor(-199*Math.random())+100)},M=function(){var e=(0,r.Z)((function(){var e,t;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/sektorler"),e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),v(t.hizmetler),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){M()}),[T]);var L=function(){var e=(0,r.Z)((function(e){var t,n;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return console.log(e),t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,action:"delete"})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/sektorler"),t)];case 1:return[4,r.sent().json()];case 2:return n=r.sent(),console.log(n),I(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,l.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,l.jsxs)(o.ZP,{item:!0,xs:10,children:[(0,l.jsx)(u.Z,{variant:"h5",children:(0,l.jsx)(c.Z,{children:"Sekt\xf6rler"})}),(0,l.jsx)(u.Z,{variant:"body2",children:"\xc7al\u0131\u015f\u0131lan sekt\xf6rler"})]}),(0,l.jsxs)(o.ZP,{item:!0,xs:2,children:[(0,l.jsx)(x.Z,{onClick:function(){n(!0)},children:"Sekt\xf6r Ekle"}),(0,l.jsx)(p.Z,{open:t,onClose:O,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,l.jsxs)(h.Z,{sx:(0,a.Z)((0,i.Z)({},D),{width:800}),children:[(0,l.jsx)("h2",{id:"child-modal-title",children:"Yeni Sekt\xf6r Ekle"}),(0,l.jsx)(S,{reDatas:I,closeModal:O}),(0,l.jsx)(x.Z,{onClick:O,children:"\u0130ptal"})]})}),(0,l.jsx)(p.Z,{open:g,onClose:B,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,l.jsxs)(h.Z,{sx:(0,a.Z)((0,i.Z)({},D),{width:800}),children:[(0,l.jsx)("h2",{id:"child-modal-title",children:"Yeni Hizmet Ekle"}),(0,l.jsx)(_.Z,{dataUpdates:P,reDatas:I,closeModal:B}),(0,l.jsx)(x.Z,{onClick:B,children:"\u0130ptal"})]})})]}),(0,l.jsx)(o.ZP,{item:!0,xs:12,children:(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(f.Z,{title:"Sekt\xf6rler Tablosu",titleTypographyProps:{variant:"h6"}}),(0,l.jsx)(w.Z,{data:b,handleClickFunc:L,openDuzenleModal:function(e,t){Z(!0),C(t),console.log(t)}})]})})]})}}},function(e){e.O(0,[657,850,343,444,571,842,774,888,179],(function(){return t=39858,e(e.s=t);var t}));var t=e.O();_N_E=t}]);