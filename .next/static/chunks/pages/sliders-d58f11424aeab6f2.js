(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{44267:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(87462),r=n(63366),l=n(67294),a=n(86010),s=n(27192),o=n(11496),c=n(71657),d=n(28979);function u(e){return(0,d.Z)("MuiCardContent",e)}(0,n(76087).Z)("MuiCardContent",["root"]);var h=n(85893);const x=["className","component"],f=(0,o.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var p=l.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:l,component:o="div"}=n,d=(0,r.Z)(n,x),p=(0,i.Z)({},n,{component:o}),j=(e=>{const{classes:t}=e;return(0,s.Z)({root:["root"]},u,t)})(p);return(0,h.jsx)(f,(0,i.Z)({as:o,className:(0,a.Z)(j.root,l),ownerState:p,ref:t},d))}))},93842:function(e,t,n){"use strict";var i;t.Z=void 0;var r=(0,((i=n(65129))&&i.__esModule?i:{default:i}).default)("M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.59L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z","TrendingUp");t.Z=r},31735:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sliders",function(){return n(27813)}])},27813:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i=n(47568),r=n(26042),l=n(69396),a=n(10092),s=n(85893),o=n(86886),c=n(50122),d=n(66242),u=n(15861),h=n(87357),x=n(78445),f=n(83835),p=n(83321),j=n(67294),Z=n(90089),g=n(50135),v=n(44267),m=n(93842),b=n(25675),y=n.n(b),S=function(e){var t=e.closeModal,n=e.dataRes,r=(0,j.useState)(!1),l=(r[0],r[1]),c=(0,j.useState)(""),h=c[0],x=c[1],f=(0,j.useState)(!1),b=(f[0],f[1]),S=(0,j.useState)(),w=S[0],P=S[1],k=(0,j.useState)(),C=k[0],_=k[1],B=(0,j.useState)(),L=B[0],M=B[1],T=(0,j.useState)(),D=T[0],E=T[1];(0,j.useEffect)((function(){l(!0)}),[]);var N=function(){var e=(0,i.Z)((function(){var e,i,r,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:b(!0),e=new FormData;try{e.append("bannerImg",w)}catch(s){console.log(s)}return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,a.sent().json()];case 2:return i=a.sent(),console.log(i),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sliderBaslik:C,sliderBtnTxt:L,sliderBtnLink:D,banner:0===w.length?h.split("/")[2]:w.name})},[4,fetch("".concat("http://localhost:3000","/api/slider"),r)];case 3:return[4,a.sent().json()];case 4:return l=a.sent(),console.log(l),n(),t(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsx)(d.Z,{children:(0,s.jsx)(v.Z,{children:(0,s.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,s.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(g.Z,{fullWidth:!0,label:"Slider Ba\u015fl\u0131\u011f\u0131",placeholder:"Slider Ba\u015fl\u0131\u011f\u0131",onChange:function(e){_(e.target.value)}})}),(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(g.Z,{fullWidth:!0,label:"Slider Button Metni",placeholder:"Slider Button Metni",onChange:function(e){M(e.target.value)}})}),(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(g.Z,{fullWidth:!0,label:"Slider Button Link",placeholder:"Slider Button Link",onChange:function(e){E(e.target.value)}})}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:[(0,s.jsxs)(p.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(m.Z,{}),style:{marginBottom:20},children:["Slider G\xf6rseli Y\xfckle",(0,s.jsx)(Z.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;P(null===(t=e.target.files)||void 0===t?void 0:t[0]),x(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==h?(0,s.jsx)(y(),{src:h,alt:"Picture of the author",width:500,height:500}):""]}),(0,s.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,s.jsx)(p.Z,{type:"submit",onClick:N,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},w=n(55113),P=n(7906),k=n(53816),C=n(53184),_=n(295),B=n(98102),L=n(72882),M=n(70519),T=function(e){var t=e.data,n=e.handleClickFunc,i=e.openDuzenleModal,r=(0,j.useState)(0),l=r[0],a=r[1],o=(0,j.useState)(10),c=o[0],d=o[1];return(0,s.jsxs)(w.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,s.jsx)(L.Z,{sx:{maxHeight:440},children:(0,s.jsxs)(P.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,s.jsx)(C.Z,{children:(0,s.jsxs)(k.Z,{children:[(0,s.jsx)(B.Z,{align:"center",style:{width:50},children:"ID"}),(0,s.jsx)(B.Z,{align:"center",style:{width:50},children:"Slider Ba\u015fl\u0131\u011f\u0131"}),(0,s.jsx)(B.Z,{align:"center",style:{width:150},children:"Slider Button Metni"}),(0,s.jsx)(B.Z,{align:"center",style:{width:150},children:"Slider Button Link"}),(0,s.jsx)(B.Z,{align:"center",style:{width:150},children:"Banner"}),(0,s.jsx)(B.Z,{align:"center",style:{width:300},children:"\u0130\u015flem"})]})}),(0,s.jsx)(_.Z,{children:t.map((function(e,t){return(0,s.jsxs)(k.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,s.jsx)(B.Z,{children:e.id}),(0,s.jsx)(B.Z,{children:e.baslik}),(0,s.jsx)(B.Z,{children:e.slider_btn_txt}),(0,s.jsx)(B.Z,{children:e.slider_btn_link}),(0,s.jsx)(B.Z,{children:e.banner}),(0,s.jsx)(B.Z,{style:{width:300,textAlign:"center"},children:(0,s.jsxs)("div",{style:{flexDirection:"row"},children:[(0,s.jsx)(p.Z,{style:{color:"white",width:85,margin:5},variant:"contained",onClick:function(){return i(e.id,e)},children:"D\xfczenle"}),(0,s.jsx)(p.Z,{style:{color:"white",width:50,backgroundColor:"red"},variant:"contained",onClick:function(){return n(e.id)},children:"Sil"})]})})]},t)}))})]})}),(0,s.jsx)(M.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:t.length,rowsPerPage:c,page:l,onPageChange:function(e,t){a(t)},onRowsPerPageChange:function(e){d(+e.target.value),a(0)}})]})},D=function(e){var t=e.dataUpdates,n=e.closeModal,r=e.reDatas,l=(0,j.useState)(!1),c=(l[0],l[1]),h=(0,j.useState)("/uploads/"+t.banner),x=h[0],f=h[1],b=(0,j.useState)(!1),S=(b[0],b[1]),w=(0,j.useState)([]),P=w[0],k=w[1],C=(0,j.useState)(t.baslik),_=C[0],B=C[1],L=(0,j.useState)(t.slider_btn_txt),M=L[0],T=L[1],D=(0,j.useState)(t.slider_btn_link),E=D[0],N=D[1],O={};console.log(t),(0,j.useEffect)((function(){c(!0)}),[]);var R=function(){var e=(0,i.Z)((function(){var e,i,l,s,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(S(!0),e=new FormData,P!==t.banner||""===t.banner)try{e.append("bannerImg",P)}catch(c){console.log(c)}else i=x.split("/"),O.bannerImg=i[2];return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,a.sent().json()];case 2:return l=a.sent(),console.log(l),s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,sliderBaslik:_,sliderBtnTxt:M,sliderBtnLink:E,banner:0===P.length?x.split("/")[2]:P.name})},[4,fetch("".concat("http://localhost:3000","/api/slider"),s)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),console.log(o),r(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsx)(d.Z,{children:(0,s.jsx)(v.Z,{children:(0,s.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,s.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(g.Z,{fullWidth:!0,label:"Slider Ba\u015fl\u0131\u011f\u0131",placeholder:"Slider Ba\u015fl\u0131\u011f\u0131",value:_,onChange:function(e){B(e.target.value)}})}),(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(g.Z,{fullWidth:!0,label:"Slider Button Metni",placeholder:"Slider Button Metni",value:M,onChange:function(e){T(e.target.value)}})}),(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(g.Z,{fullWidth:!0,label:"Slider Button Link",placeholder:"Slider Button Link",value:E,onChange:function(e){N(e.target.value)}})}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:[(0,s.jsxs)(p.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(m.Z,{}),style:{marginBottom:20},children:["Slider G\xf6rseli Y\xfckle",(0,s.jsx)(Z.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;k(null===(t=e.target.files)||void 0===t?void 0:t[0]),f(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==x?(0,s.jsx)(y(),{src:x,alt:"Picture of the author",width:500,height:500}):""]}),(0,s.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,s.jsx)(p.Z,{type:"submit",onClick:R,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},E=function(){var e=(0,j.useState)(!1),t=e[0],n=e[1],Z=(0,j.useState)(!1),g=Z[0],v=Z[1],m=(0,j.useState)([]),b=m[0],y=m[1],w=(0,j.useState)([]),P=w[0],k=w[1],C=(0,j.useState)(),_=C[0],B=C[1],L=function(){n(!1)},M=function(){v(!1)},E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"%90",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",height:700,pt:2,px:4,pb:3},N=function(){B(Math.floor(-199*Math.random())+100)},O=function(){var e=(0,i.Z)((function(){var e,t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},[4,fetch("".concat("http://localhost:3000","/api/slider"),e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),y(t.sliders),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,j.useEffect)((function(){O()}),[_]);var R=function(){var e=(0,i.Z)((function(e){var t,n;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return console.log(e),t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})},[4,fetch("".concat("http://localhost:3000","/api/slider"),t)];case 1:return[4,i.sent().json()];case 2:return n=i.sent(),console.log(n),N(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,s.jsxs)(o.ZP,{item:!0,xs:10,children:[(0,s.jsx)(u.Z,{variant:"h5",children:(0,s.jsx)(c.Z,{children:"Sliderlar"})}),(0,s.jsx)(u.Z,{variant:"body2",children:"Sliderlar\u0131 D\xfczenleyin"})]}),(0,s.jsxs)(o.ZP,{item:!0,xs:2,children:[(0,s.jsx)(p.Z,{onClick:function(){n(!0)},children:"Slider Ekle"}),(0,s.jsx)(f.Z,{open:t,onClose:L,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,s.jsxs)(h.Z,{sx:(0,l.Z)((0,r.Z)({},E),{width:800}),children:[(0,s.jsx)("h2",{id:"child-modal-title",children:"Yeni Sekt\xf6r Ekle"}),(0,s.jsx)(S,{dataRes:N,closeModal:L}),(0,s.jsx)(p.Z,{onClick:L,children:"\u0130ptal"})]})}),(0,s.jsx)(f.Z,{open:g,onClose:M,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,s.jsxs)(h.Z,{sx:(0,l.Z)((0,r.Z)({},E),{width:800}),children:[(0,s.jsx)("h2",{id:"child-modal-title",children:"D\xfczenle"}),(0,s.jsx)(D,{dataUpdates:P,reDatas:N,closeModal:M}),(0,s.jsx)(p.Z,{onClick:M,children:"\u0130ptal"})]})})]}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(x.Z,{title:"Slider Tablosu",titleTypographyProps:{variant:"h6"}}),(0,s.jsx)(T,{data:b,handleClickFunc:R,openDuzenleModal:function(e,t){v(!0),k(t),console.log(t)}})]})})]})}},47568:function(e,t,n){"use strict";function i(e,t,n,i,r,l,a){try{var s=e[l](a),o=s.value}catch(c){return void n(c)}s.done?t(o):Promise.resolve(o).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,l){var a=e.apply(t,n);function s(e){i(a,r,l,s,o,"next",e)}function o(e){i(a,r,l,s,o,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[657,850,774,888,179],(function(){return t=31735,e(e.s=t);var t}));var t=e.O();_N_E=t}]);