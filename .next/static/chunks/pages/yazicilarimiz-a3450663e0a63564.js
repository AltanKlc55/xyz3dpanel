(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{31112:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/yazicilarimiz",function(){return n(19541)}])},19541:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var i=n(47568),a=n(26042),r=n(69396),l=n(10092),s=n(85893),o=n(86886),c=n(50122),d=n(66242),u=n(15861),h=n(87357),f=n(78445),x=n(83835),g=n(83321),p=n(67294),m=n(90089),j=n(50135),y=n(44267),Z=n(93842),v=n(37990),b=n(25675),w=n.n(b),S=function(e){var t=e.reDatas,n=e.closeModal,a=(0,p.useState)(!1),r=a[0],c=a[1],h=(0,p.useState)(""),f=h[0],x=h[1],b=(0,p.useState)(""),S=b[0],z=(b[1],(0,p.useState)()),P=z[0],k=z[1],C=(0,p.useState)(),_=C[0],I=C[1],D=(0,p.useState)(""),E=D[0],B=D[1],T=(0,p.useState)(),Y=T[0],O=T[1],N=(0,p.useState)(),M=N[0],U=N[1],A=(0,p.useState)(!1),R=(A[0],A[1]);(0,p.useEffect)((function(){c(!0)}),[]);var L=function(){var e=(0,i.Z)((function(){var e,i,a,r,s,o;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:R(!0),e=new FormData;try{e.append("bannerImg",P)}catch(c){console.log(c)}try{if(!_)return[2];e.append("yaziciImg",_)}catch(d){console.log(d)}return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,l.sent().json()];case 2:return i=l.sent(),a=i.files,r=a.filter((function(e){return"bannerImg"===e.fieldName})),s=a.filter((function(e){return"yaziciImg"===e.fieldName})),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({yaziciIcerigi:M,yaziciBasligi:Y,banner:0===r.length?f.split("/")[2]:r[0].name,img:0===s.length?selectSektorlerFile.split("/")[2]:s[0].name})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/yazicilar"),o)];case 3:return l.sent(),t(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){console.log(S)}),[S]),(0,s.jsx)(d.Z,{children:(0,s.jsx)(y.Z,{children:(0,s.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,s.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(j.Z,{fullWidth:!0,label:"Yaz\u0131c\u0131 Ba\u015fl\u0131\u011f\u0131",placeholder:"Yaz\u0131c\u0131 Ba\u015fl\u0131\u011f\u0131",onChange:function(e){O(e.target.value)}})}),(0,s.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,s.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Yaz\u0131c\u0131 \xd6zellikleri "}),(0,s.jsx)(v.Z,{editorStatus:r,onChange:function(e){U(e)}})]}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,s.jsxs)(g.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(Z.Z,{}),style:{marginBottom:20},children:["Yaz\u0131c\u0131 G\xf6rseli Y\xfckle",(0,s.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;I(null===(t=e.target.files)||void 0===t?void 0:t[0]),B(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==E?(0,s.jsx)(w(),{src:E,width:500,height:500}):""]}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,s.jsxs)(g.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(Z.Z,{}),style:{marginBottom:20},children:["Banner G\xf6rseli Y\xfckle",(0,s.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;k(null===(t=e.target.files)||void 0===t?void 0:t[0]),x(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==f?(0,s.jsx)(w(),{src:f,alt:"Picture of the author",width:500,height:500}):""]}),(0,s.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,s.jsx)(g.Z,{type:"submit",onClick:L,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},z=function(e){var t=e.dataUpdates,n=e.closeModal,a=e.reDatas,r=(0,p.useState)(!1),c=r[0],h=r[1],f=(0,p.useState)("/uploads/"+t.banner),x=f[0],b=f[1],S=(0,p.useState)(!1),z=(S[0],S[1]),P=(0,p.useState)("/uploads/"+t.banner),k=P[0],C=P[1],_=(0,p.useState)("/uploads/"+t.img),I=_[0],D=_[1],E=(0,p.useState)("/uploads/"+t.img),B=E[0],T=E[1],Y=(0,p.useState)(t.name),O=Y[0],N=Y[1],M=(0,p.useState)(t.content),U=M[0],A=M[1],R={};(0,p.useEffect)((function(){h(!0)}),[]);var L=function(){var e=(0,i.Z)((function(){var e,i,r,s,o,c,d,u,h;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:if(z(!0),e=new FormData,k!==t.banner||""===t.banner)try{e.append("bannerImg",k)}catch(f){console.log(f)}else i=x.split("/"),R.bannerImg=i[2];if(I!==t.img||""===t.img)try{if(!I)return[2];e.append("hizmetImg",I)}catch(g){console.log(g)}else r=B.split("/"),R.hizmetImg=r[2];return[4,fetch("/api/newfileupload",{method:"POST",body:e})];case 1:return[4,l.sent().json()];case 2:return s=l.sent(),o=s.files,c=o.filter((function(e){return"bannerImg"===e.fieldName})),d=o.filter((function(e){return"hizmetImg"===e.fieldName})),u={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,yaziciIcerigi:U,yaziciBasligi:O,banner:0===c.length?x.split("/")[2]:c[0].name,img:0===d.length?B.split("/")[2]:d[0].name})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/yazicilar"),u)];case 3:return[4,l.sent().json()];case 4:return h=l.sent(),console.log(h),a(),n(),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,s.jsx)(d.Z,{children:(0,s.jsx)(y.Z,{children:(0,s.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,s.jsxs)(o.ZP,{container:!0,spacing:5,children:[(0,s.jsx)(o.ZP,{mt:3,item:!0,xs:12,children:(0,s.jsx)(j.Z,{fullWidth:!0,label:"Sekt\xf6r Ba\u015fl\u0131\u011f\u0131",placeholder:"Sekt\xf6r Ba\u015fl\u0131\u011f\u0131",value:O,onChange:function(e){N(e.target.value)}})}),(0,s.jsxs)(o.ZP,{item:!0,xs:12,children:[(0,s.jsx)(u.Z,{variant:"h6",style:{paddingBottom:10},children:" Hizmet \u0130\xe7eri\u011fi "}),(0,s.jsx)(v.Z,{editorStatus:c,contentsforupdate:t.content,onChange:function(e){A(e)}})]}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsx)(u.Z,{mt:10,variant:"h6",children:"Medya Alan\u0131"})}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,s.jsxs)(g.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(Z.Z,{}),style:{marginBottom:20},children:["Yaz\u0131c\u0131 G\xf6rseli De\u011fi\u015ftir",(0,s.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;D(null===(t=e.target.files)||void 0===t?void 0:t[0]),T(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==B?(0,s.jsx)(w(),{src:B,width:500,height:500}):""]}),(0,s.jsxs)(o.ZP,{style:{textAlign:"center"},item:!0,xs:6,children:[(0,s.jsxs)(g.Z,{component:"label",variant:"contained",startIcon:(0,s.jsx)(Z.Z,{}),style:{marginBottom:20},children:["Yaz\u0131c\u0131 G\xf6rseli De\u011fi\u015ftir",(0,s.jsx)(m.Z,{style:{display:"none"},type:"file",onChange:function(e){var t,n;C(null===(t=e.target.files)||void 0===t?void 0:t[0]),b(window.URL.createObjectURL(null===(n=e.target.files)||void 0===n?void 0:n[0]))}})]}),""!==x?(0,s.jsx)(w(),{src:x,alt:"Picture of the author",width:500,height:500}):""]}),(0,s.jsx)(o.ZP,{style:{textAlign:"center"},item:!0,xs:12,children:(0,s.jsx)(g.Z,{type:"submit",onClick:L,variant:"contained",size:"large",children:"Kaydet"})})]})})})})},P=n(55113),k=n(7906),C=n(53816),_=n(53184),I=n(295),D=n(98102),E=n(72882),B=n(70519),T=function(e){var t=e.data,n=e.handleClickFunc,i=e.openDuzenleModal,a=(0,p.useState)(0),r=a[0],l=a[1],o=(0,p.useState)(10),c=o[0],d=o[1];return(0,s.jsxs)(P.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,s.jsx)(E.Z,{sx:{maxHeight:440},children:(0,s.jsxs)(k.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,s.jsx)(_.Z,{children:(0,s.jsxs)(C.Z,{children:[(0,s.jsx)(D.Z,{align:"center",style:{width:50},children:"ID"}),(0,s.jsx)(D.Z,{align:"center",style:{width:50},children:"Yaz\u0131c\u0131 Ba\u015fl\u0131\u011f\u0131"}),(0,s.jsx)(D.Z,{align:"center",style:{width:150},children:"Banner"}),(0,s.jsx)(D.Z,{align:"center",style:{width:150},children:"Yaz\u0131c\u0131 G\xf6rseli"}),(0,s.jsx)(D.Z,{align:"center",style:{width:150},children:"Olu\u015fturulma Tarihi"}),(0,s.jsx)(D.Z,{align:"center",style:{width:300},children:"\u0130\u015flem"})]})}),(0,s.jsx)(I.Z,{children:t.map((function(e,t){return(0,s.jsxs)(C.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,s.jsx)(D.Z,{children:e.id}),(0,s.jsx)(D.Z,{children:e.name}),(0,s.jsx)(D.Z,{children:e.banner}),(0,s.jsx)(D.Z,{children:e.img}),(0,s.jsx)(D.Z,{children:e.date_time}),(0,s.jsx)(D.Z,{style:{width:300,textAlign:"center"},children:(0,s.jsxs)("div",{style:{flexDirection:"row"},children:[(0,s.jsx)(g.Z,{style:{color:"white",width:85,margin:5},variant:"contained",onClick:function(){return i(e.id,e)},children:"D\xfczenle"}),(0,s.jsx)(g.Z,{style:{color:"white",width:50,backgroundColor:"red"},variant:"contained",onClick:function(){return n(e.id)},children:"Sil"})]})})]},t)}))})]})}),(0,s.jsx)(B.Z,{rowsPerPageOptions:[10,25,100],component:"div",count:t.length,rowsPerPage:c,page:r,onPageChange:function(e,t){l(t)},onRowsPerPageChange:function(e){d(+e.target.value),l(0)}})]})},Y=function(){var e=(0,p.useState)(!1),t=e[0],n=e[1],m=(0,p.useState)(!1),j=m[0],y=m[1],Z=(0,p.useState)([]),v=Z[0],b=Z[1],w=(0,p.useState)([]),P=w[0],k=w[1],C=(0,p.useState)(),_=C[0],I=C[1],D=function(){n(!1)},E=function(){y(!1)},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"%90",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,overflow:"auto",height:700,pt:2,px:4,pb:3},Y=function(){I(Math.floor(-199*Math.random())+100)},O=function(){var e=(0,i.Z)((function(){var e,t;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/yazicilar"),e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),b(t.hizmetler),[2]}}))}));return function(){return e.apply(this,arguments)}}();(0,p.useEffect)((function(){O()}),[_]);var N=function(){var e=(0,i.Z)((function(e){var t,n;return(0,l.__generator)(this,(function(i){switch(i.label){case 0:return console.log(e),t={method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,action:"delete"})},[4,fetch("".concat("http://testpanel.pixwaragerncy.com/","/api/sektorler"),t)];case 1:return[4,i.sent().json()];case 2:return n=i.sent(),console.log(n),Y(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,s.jsxs)(o.ZP,{container:!0,spacing:6,children:[(0,s.jsxs)(o.ZP,{item:!0,xs:10,children:[(0,s.jsx)(u.Z,{variant:"h5",children:(0,s.jsx)(c.Z,{children:"Yaz\u0131c\u0131lar"})}),(0,s.jsx)(u.Z,{variant:"body2",children:"Hizmet Verilen Yaz\u0131c\u0131lar"})]}),(0,s.jsxs)(o.ZP,{item:!0,xs:2,children:[(0,s.jsx)(g.Z,{onClick:function(){n(!0)},children:"Yaz\u0131c\u0131 Ekle"}),(0,s.jsx)(x.Z,{open:t,onClose:D,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,s.jsxs)(h.Z,{sx:(0,r.Z)((0,a.Z)({},B),{width:800}),children:[(0,s.jsx)("h2",{id:"child-modal-title",children:"Yeni Sekt\xf6r Ekle"}),(0,s.jsx)(S,{reDatas:Y,closeModal:D}),(0,s.jsx)(g.Z,{onClick:D,children:"\u0130ptal"})]})}),(0,s.jsx)(x.Z,{open:j,onClose:E,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:(0,s.jsxs)(h.Z,{sx:(0,r.Z)((0,a.Z)({},B),{width:800}),children:[(0,s.jsx)("h2",{id:"child-modal-title",children:"D\xfczenle"}),(0,s.jsx)(z,{dataUpdates:P,reDatas:Y,closeModal:E}),(0,s.jsx)(g.Z,{onClick:E,children:"\u0130ptal"})]})})]}),(0,s.jsx)(o.ZP,{item:!0,xs:12,children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(f.Z,{title:"Yaz\u0131c\u0131 Tablosu",titleTypographyProps:{variant:"h6"}}),(0,s.jsx)(T,{data:v,handleClickFunc:N,openDuzenleModal:function(e,t){y(!0),k(t),console.log(t)}})]})})]})}},37990:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(85893),a=n(67294),r=n(90918);function l(e){var t=e.onChange,n=e.contentsforupdate,l=(0,a.useRef)(null),s=(0,a.useState)(n),o=s[0],c=s[1];return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.M,{apiKey:"six2yo4bzxd8f2i0vym67wgolcxzgkn91hg7gcs24josbvs1",onInit:function(e,t){return l.current=t},onEditorChange:function(e,n){c(e),"function"===typeof t&&t(e)},content:o,initialValue:void 0!==n?n:"",init:{height:500,menubar:"file edit view insert format tools table",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","code","help","wordcount","hr"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent image| removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",image_uploadtab:!0,images_upload_url:"http://localhost:3000/uploads/"}})})}}},function(e){e.O(0,[657,850,343,774,888,179],(function(){return t=31112,e(e.s=t);var t}));var t=e.O();_N_E=t}]);